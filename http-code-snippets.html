<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="../paper-tabs/paper-tab.html">
<link rel="import" href="../iron-pages/iron-pages.html">
<link rel="import" href="raw-http-snippet.html">
<link rel="import" href="curl-http-snippet.html">
<link rel="import" href="javascript-http-snippets.html">
<link rel="import" href="python-http-snippets.html">
<link rel="import" href="c-curl-http-snippet.html">
<link rel="import" href="code-snippets-mixin.html">

<dom-module id="http-code-snippets">
  <template>
    <style>
    :host {
      display: block;
      @apply --http-code-snippets;
    }
    </style>
    <paper-tabs selected="{{selectedPlatform}}" scrollable fit-container>
      <paper-tab>HTTP</paper-tab>
      <paper-tab>Shell</paper-tab>
      <paper-tab>JavaScript</paper-tab>
      <paper-tab>Python</paper-tab>
      <paper-tab>C</paper-tab>
    </paper-tabs>
    <iron-pages selected="[[selectedPlatform]]">
      <raw-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headersList]]"></raw-http-snippet>
      <curl-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headersList]]"></curl-http-snippet>
      <javascript-http-snippets url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headersList]]"></javascript-http-snippets>
      <python-http-snippets url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headersList]]"></python-http-snippets>
      <c-curl-http-snippet url="[[url]]" method="[[method]]" payload="[[payload]]" headers="[[headersList]]"></c-curl-http-snippet>
    </iron-pages>
  </template>
  <script>
  /**
   * `http-code-snippets`
   *
   * Code snippets to display code implementatyion examples for a HTTP request
   *
   * ## Styling
   *
   * `<http-code-snippets>` provides the following custom properties and mixins for styling:
   *
   * Custom property | Description | Default
   * ----------------|-------------|----------
   * `--http-code-snippets` | Mixin applied to this elment | `{}`
   *
   * @customElement
   * @polymer
   * @demo demo/index.html
   * @memberof ApiElements
   * @appliesMixin ArcBehaviors.CodeSnippetsMixin
   */
  class HttpCodeSnippets extends ArcBehaviors.CodeSnippetsMixin(Polymer.Element) {
    static get is() { return 'http-code-snippets'; }
    static get properties() {
      return {
        // Currently selected tab for the platform row.
        selectedPlatform: {
          type: Number,
          value: 0
        },
        // A list of HTTP headers from the headers string
        headersList: {
          type: Array,
          computed: 'headersToList(headers)'
        }
      };
    }
  }
  window.customElements.define(HttpCodeSnippets.is, HttpCodeSnippets);
  </script>
</dom-module>
