<script>
window.RamlBehaviors = window.RamlBehaviors || {};
/**
 * A common properties for HTTP code snippets.
 */
window.RamlBehaviors.httpCodeSnippetBehavior = {
  properties: {
    // The URL of the request
    url: String,
    // HTTP method
    method: String,
    // HTTP headers
    headers: String,
    // HTTP body (message)
    payload: {
      type: String,
      value: ''
    }
  },

  headersToList: function(headers) {
    headers = headers || this.headers;
    if (!headers || !headers.trim()) {
      return [];
    }
    return headers.split('\n').map(function(line) {
      var parts = line.split(':');
      for (var i in parts) {
        parts[i] = parts[i].trim();
      }
      return {
        name: parts[0],
        value: parts[1] || ''
      };
    });
  }
};
</script>
